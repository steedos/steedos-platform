{
    "type": "service",
    "body": [
        {
            "type": "steedos-object-form",
            "label": "对象表单",
            "objectApiName": "process_node",
            "recordId": "${recordId}",
            "className": "",
            "enableTabs": false,
            "mode": "edit",
            "layout": "normal",
            "tabsMode": "",
            "id": "u:1c918e931a42",
            "onEvent": {
                "inited": {
                    "actions": [
                        {
                            "actionType": "ajax",
                            "api": {
                                "method": "get",
                                "url": "${context.rootUrl}/api/v1/process_definition/${process_definition}?fields=[\"object_name\"]",
                                "cache": 30000,
                                "adaptor": "return {...payload, data:{processDefinitionObjectName: payload.data.object_name}};",
                                "headers": {
                                    "Authorization": "Bearer ${context.tenantId},${context.authToken}"
                                }
                            }
                        },
                        {
                            "actionType": "setValue",
                            "args": {
                                "value": {
                                    "processDefinitionObjectName": "${event.data.processDefinitionObjectName}"
                                }
                            },
                            "componentId": "page_process_node_form"
                        }
                    ]
                }
            },
            "fieldsExtend": {
                "entry_criteria": {
                    "amis": {
                        "type": "service",
                        "id": "u:46bf09af8f92",
                        "schemaApi": {
                            "method": "get",
                            "url": "${context.rootUrl}/service/api/amis-metadata-objects/objects/${processDefinitionObjectName}/fields/options",
                            "cache": 30000,
                            "adaptor": "const field = context.uiSchema.fields.entry_criteria; const variables = SteedosUI.getFormulaVariables(payload.data.options); \n var fieldSchema={label: field.label, type:'input-formula', name: 'entry_criteria', 'evalMode': false, variableMode: 'tabs', variables: variables, labelRemark: field.inlineHelpText, description: field.description } \n return {...payload, data:fieldSchema};",
                            "trackExpression": "${processDefinitionObjectName}",
                            "sendOn": "${processDefinitionObjectName}"
                        },
                        "dsType": "api"
                    }
                }
            }
        }
    ],
    "data": {},
    "name": "page_process_node_form",
    "dsType": "api",
    "id": "page_process_node_form"
}